/* ðŸŽ¯ LAYOUT OVERFLOW FIX - Prevent Content Overflow with Fixed Sidebar */

/* ===============================================
   ROOT LEVEL OVERFLOW PREVENTION
   =============================================== */

html {
  overflow-x: hidden;
  max-width: 100vw;
  box-sizing: border-box;
}

html *,
html *::before,
html *::after {
  box-sizing: border-box;
}

body {
  overflow-x: hidden;
  max-width: 100vw;
}

#root {
  overflow-x: hidden;
  max-width: 100vw;
}

/* ===============================================
   MAIN CONTENT AREA - STRICT WIDTH CONTROL
   =============================================== */

main {
  max-width: 100% !important;
  overflow-x: hidden !important;
  box-sizing: border-box !important;
  width: 100%;
}

/* Desktop: Fixed layout - width handled by fixed-layout.css */
@media (min-width: 768px) {
  /* When sidebar is expanded (20rem = 320px) */
  main.md\:left-80 {
    width: calc(100vw - 20rem) !important;
    max-width: calc(100vw - 20rem) !important;
  }
  
  /* When sidebar is collapsed (4rem = 64px) */
  main.md\:left-16 {
    width: calc(100vw - 4rem) !important;
    max-width: calc(100vw - 4rem) !important;
  }
}

/* Mobile: Full width */
@media (max-width: 767px) {
  main {
    width: 100vw !important;
    max-width: 100vw !important;
    margin-left: 0 !important;
  }
}

/* ===============================================
   ALL CONTENT CONTAINERS
   Exception: Issue modal needs flexible width for table buttons
   =============================================== */

main > *:not(.issue-modal):not(.issue-modal *) {
  max-width: 100% !important;
  overflow-x: hidden;
  box-sizing: border-box;
}

main > * > *:not(.issue-modal):not(.issue-modal *) {
  max-width: 100%;
  box-sizing: border-box;
}

/* ===============================================
   BREADCRUMB & CONTENT AREAS
   =============================================== */

main > div {
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

/* ===============================================
   FLEX & GRID CONTAINERS
   =============================================== */

main [class*="flex"] {
  max-width: 100%;
  overflow-x: hidden;
}

main [class*="flex"] > * {
  min-width: 0; /* Allow flex items to shrink */
}

main [class*="grid"] {
  max-width: 100%;
  overflow-x: hidden;
}

/* ===============================================
   TEXT WRAPPING
   =============================================== */

main h1,
main h2,
main h3,
main h4,
main h5,
main h6,
main p,
main span {
  overflow-wrap: break-word;
  word-wrap: break-word;
  max-width: 100%;
}

/* ===============================================
   RESPONSIVE IMAGES
   =============================================== */

main img {
  max-width: 100%;
  height: auto;
}

/* ===============================================
   TABLES
   =============================================== */

main table {
  max-width: 100%;
}

main .overflow-x-auto {
  max-width: 100%;
  overflow-x: auto;
}

/* ===============================================
   TABS
   =============================================== */

[role="tablist"] {
  max-width: 100%;
  overflow-x: auto;
  overflow-y: hidden;
}

[role="tablist"]::-webkit-scrollbar {
  display: none;
}

[role="tab"] {
  flex-shrink: 0;
  white-space: nowrap;
}

[role="tabpanel"] {
  max-width: 100%;
  overflow-x: hidden;
}

/* ===============================================
   CARDS
   =============================================== */

[data-slot="card"],
.card {
  max-width: 100%;
  overflow-x: hidden;
}

/* ===============================================
   KANBAN BOARDS
   =============================================== */

main [class*="kanban"] {
  max-width: 100%;
  overflow-x: auto;
  overflow-y: hidden;
}

/* ===============================================
   MODALS
   =============================================== */

[data-slot="dialog-content"] {
  max-width: calc(100vw - 2rem);
}

@media (min-width: 768px) {
  main.md\:ml-80 [data-slot="dialog-content"] {
    max-width: calc(100vw - 20rem - 2rem);
  }
  
  main.md\:ml-16 [data-slot="dialog-content"] {
    max-width: calc(100vw - 4rem - 2rem);
  }
}

/* ===============================================
   PRINT STYLES
   =============================================== */

@media print {
  main {
    position: static !important;
    width: 100% !important;
    max-width: 100% !important;
    left: 0 !important;
  }
}